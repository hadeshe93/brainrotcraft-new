# 游戏特性关联管理 - 方案文档索引

> 创建日期: 2025-11-06
> 状态: 待审核

---

## 📚 文档导航

### 🚀 快速开始

1. **[执行总结](./executive-summary.md)** ⭐️ **推荐先看**
   - 方案概述
   - 核心问题和解决方案
   - 实施计划
   - 审核要点

2. **[方案对比表](./comparison-table.md)**
   - 当前方案 vs 新方案详细对比
   - 数据查询流程对比
   - 功能对比
   - 性能评估

3. **[完整技术方案](./game-featured-management-plan.md)**
   - 详细的技术设计
   - 数据库改造方案
   - 代码实现示例
   - API 设计
   - 测试计划

---

## 🎯 问题背景

### 核心问题

当前系统在处理"Hot"和"New"游戏数据时存在以下缺漏：

1. **Hot 游戏数据获取逻辑不一致**
   - 首页: 基于 `gamesToFeatured` 关联表（运营能力强，需手动维护）
   - 列表页: 直接按 `interact` 排序（自动化能力强，无运营能力）

2. **New 游戏缺少运营能力**
   - 只能按 `createdAt` 排序
   - 无法置顶推荐特定新游戏

3. **管理后台功能缺失**
   - 无法在后台管理游戏与 Featured/Category/Tag 的关联关系

---

## 💡 解决方案

### 核心理念："运营优先 + 自动补充"

```
最终展示数据 = 运营数据（手动关联，可排序） + 自动数据（自动补充）
```

### 关键改进点

| 改进项 | 说明 |
|--------|------|
| 🔧 **数据库改造** | 关联表增加 `sortOrder` 和 `createdAt` 字段 |
| 🔄 **统一查询逻辑** | 首页和列表页使用相同的数据服务 |
| 🎨 **管理后台增强** | 新增关联管理弹窗，支持 Featured/Category/Tag 管理 |
| 🔌 **API 端点** | 新增关联管理 API，支持增删改查 |

---

## 📋 实施计划

| 阶段 | 任务 | 预估时间 |
|------|------|----------|
| 1️⃣ | 数据库改造（Schema + Migration） | 2 小时 |
| 2️⃣ | 数据服务开发（统一查询逻辑） | 4 小时 |
| 3️⃣ | API 端点开发（关联管理 API） | 3 小时 |
| 4️⃣ | 管理后台开发（关联管理界面） | 6 小时 |
| 5️⃣ | 测试与上线 | 2 小时 |
| **总计** | | **17 小时** |

---

## ✅ 审核清单

请审核以下关键点：

- [ ] 设计理念是否合理？（运营优先 + 自动补充）
- [ ] 数据库改造是否合理？（sortOrder + createdAt）
- [ ] 查询逻辑是否正确？（先运营后自动）
- [ ] 管理后台功能是否完善？（关联管理弹窗）
- [ ] 实施计划是否可行？（时间预估、实施顺序）

---

## 📊 预期效果

### 功能改进
- ✅ 统一 Hot/New 游戏查询逻辑
- ✅ 增强运营能力（手动关联 + 排序）
- ✅ 保留自动化能力（自动补充）
- ✅ 支持 Featured/Category/Tag 统一管理

### 运营效率提升
- 🎯 快速调整展示内容
- 🎯 灵活控制游戏排序
- 🎯 精准推荐特定游戏
- 🎯 减少人工维护成本

### 用户体验改善
- 💡 更精准的内容推荐
- 💡 更新鲜的游戏展示
- 💡 更高的内容质量

---

## 🔗 相关资源

### 代码文件

- `src/services/content/home.ts` - 首页数据服务
- `src/services/content/list.ts` - 列表数据服务
- `src/app/[locale]/admin/games/page.tsx` - 游戏管理页面
- `src/db/schema.ts` - 数据库 Schema

### 新增文件（待实施）

- `src/services/content/featured-games.ts` - 统一特性游戏查询服务
- `src/components/admin/game-relations-dialog.tsx` - 关联管理弹窗组件
- `src/app/api/admin/games/relations/featured/route.ts` - Featured 关联 API
- `src/app/api/admin/games/relations/categories/route.ts` - Categories 关联 API
- `src/app/api/admin/games/relations/tags/route.ts` - Tags 关联 API

---

## 📞 反馈与建议

如有疑问或建议，请通过以下方式反馈：

1. **关键问题**: 在相关文档中添加注释
2. **方案调整**: 提出具体的修改建议
3. **功能增强**: 列出需要补充的功能点

---

## 📝 审核流程

1. ✅ **快速了解**: 阅读 [执行总结](./executive-summary.md)
2. ✅ **详细对比**: 查看 [方案对比表](./comparison-table.md)
3. ✅ **技术细节**: 审阅 [完整技术方案](./game-featured-management-plan.md)
4. ✅ **提出反馈**: 在文档中标注或单独反馈
5. ✅ **通过审核**: 开始实施

---

**审核通过后即可开始实施 🚀**

---

_最后更新: 2025-11-06_
