---
项目名称: GamesRamp - H5 游戏聚合站
域名: gamesramp.com
编写日期: 2025-10-31
编写人: Horus He
文档版本: v1.1
---

# 游戏聚合站技术规划草稿

我要开发并上线一个 H5 游戏聚合站，域名为 `gamesramp.com`，以下是我目前的规划。

## 面向用户页面

按页面布局划分如下

- 首页
- 分类/标签聚合页
- 具体分类页/标签页/所有游戏页
- 具体游戏详情页
- 游戏搜索结果页

### 首页

详见：@docs/standard/prompt/dev-plan/images/交互稿-首页.png

说明：

- 页面路径： `/`
- SSG 配合 ISR 增量渲染模式，服务端每天进行增量渲染
- 主内容区域：
  - 热门游戏区块
    - H2 标题
    - 游戏列表组件
  - 新游戏区块
    - H2 标题
    - 游戏列表组件
  - 文案内容区块：用于 SEO，使用 @src/components/blocks/markdown-renderer 组件

### 分类/标签聚合页

详见：@docs/standard/prompt/dev-plan/images/交互稿-分类\_标签聚合页.png

说明：

- 页面路径：
  - 分类聚合页：`/categories`,
  - 分类标签页：`/tags`
- SSG 配合 ISR 增量渲染模式，服务端每天进行增量渲染
- 一页完全展示，数据不做分页
- 主内容区域：
  - H1 标题区块
  - 分类/标签列表区块：使用 Link 列表组件
  - 文案内容区块：用于 SEO，使用 @src/components/blocks/markdown-renderer 组件

### 具体分类页/标签页/所有游戏页

详见：@docs/standard/prompt/dev-plan/images/交互稿-具体分类页\_标签页\_AllGames.png

说明：

- 页面路径：
  - 具体分类页：`/category/<category_name>/:curPage`
  - 具体标签页：`/tag/<tag_name>/:curPage`
  - 所有游戏页：`/games/:curPage`
- SSG 配合 ISR 增量渲染模式，服务端每天进行增量渲染
- 主内容区域：
  - H1 标题区块
  - 游戏列表区块：使用游戏列表组件
  - 文案内容区块：用于 SEO，使用 @src/components/blocks/markdown-renderer 组件

### 具体游戏详情页

详见：@docs/standard/prompt/dev-plan/images/交互稿-详情页.png

说明：

- 页面路径：`/game/<game_name>`
- SSG 配合 ISR 增量渲染模式，服务端每天进行增量渲染
- 主内容区域：
  - 核心游戏区块
  - 相似游戏区块
    - H2 标题
    - 游戏列表：使用游戏列表组件
  - 文案内容区块：用于 SEO，使用 @src/components/blocks/markdown-renderer 组件
  - 用户评论列表区块

**重点注意**：

- 我们已经有配置式反馈组件 @src/components/feedback/ 实现了加入 Cloudflare Turnstile 的，你参考它去实现评论组件和报告组件就好了，不需要重复造轮子；对应的 API 端点是 @src/app/api/feedback/route.ts；
- 评论区块中的用户列表，当评论是 AI 生成的时候，不需要透明化出来，主要是为了 SEO 的，标注 AI 生成的话，岂不是坑自己？

### 游戏搜索结果页

详见：@docs/standard/prompt/dev-plan/images/交互稿-搜索结果页.png

说明：

- 页面路径：`/find`
- 主内容区域：
  - H1 标题区块
  - 游戏列表区块
    - 游戏列表：使用游戏列表组件
  - 相似游戏区块
    - H2 标题
    - 游戏列表：使用游戏列表组件
  - 热点游戏区块
    - H2 标题
    - 游戏列表：使用游戏列表组件

### 其他

说明：

- Privacy 和 Terms 页面，现在项目中已经有了，只需要更新一下本地静态文案即可；
- DCMA 页面，这个页面暂时缺少，它的结构和 Privacy 页面是一样的，只是文案不一样，找到对应的类型声明 @src/types/i18n.ts 加上，以及创建对应的文案文件即可；
- 面向客户的页面目前不需要加入登录功能，所以暂时不需要用户个人页面。

**重点注意**：

- 本次新增的页面，除了搜索页，其他页面我都是需要 SSG 搭配 ISR 增量渲染来完成的，不要给我搞组件的延迟渲染，这样非常不利于 SEO。

## 面向站点管理员页面

按页面职能划分如下

- 游戏管理列表页
- 游戏分类管理列表页
- 游戏评论管理列表页

详见：@docs/standard/prompt/dev-plan/images/交互稿-CMS\_后台管理系统布局.png

### 游戏管理列表页

- 用途：管理所有游戏，包括增删改查、上架下架状态管理
- 组成：
  - 顶部工具栏：新增、批量上下架、批量删除
  - 中间表格方式呈现和管理，最右边一列是操作列
  - 底部分页组件

### 分类管理列表页

- 用途：管理所有分类，包括增删改查
- 组成：
  - 顶部工具栏：新增、批量删除
  - 中间表格方式呈现和管理，最右边一列是操作列
  - 底部分页组件

### 标签管理列表页

- 用途：管理所有标签，包括增删改查
- 组成：
  - 顶部工具栏：新增、批量删除
  - 中间表格方式呈现和管理，最右边一列是操作列
  - 底部分页组件

### 评论管理列表页

- 用途：管理所有用户评论，包括增删改查
- 组成：
  - 顶部工具栏：批量新增、批量删除、批量审核、过滤
    说明：
  - 中间表格方式呈现和管理，最右边一列是操作列
  - 底部分页组件
- 说明：
  - 批量新增时针对管理员选择指定游戏，通过 LLM 进行 Fake 评论操作，要给 LLM 传入游戏的描述信息，让 LLM 返回纯 JSON 数据给我们解析并入库；api 内使用 `ai` 和 `@openrouter/ai-sdk-provider` 这两个 npm 包就可以实现了，详情参考 @https://ai-sdk.dev/docs/
  - 操作列包括审核功能按钮，弹窗选择「通过」或「驳回」即可
    **重要补充**：
- @docs/standard/prompt/dev-plan/images/交互稿-CMS\_后台管理系统布局.png 的右上角缺少了一个登录按钮示意，但其实我们的顶部栏 @src/components/blocks/header/index.tsx 已经支持了，加个条件动态判断一下是否为 CMS 页面后强制显示即可；

### 其他

- 暂时不需要 Dashboard 仪表盘页面
- 评论管理需要包含批量新增能力的，核心诉求就是让 LLM 给我们自动批量生成评论，提高 SEO 效果
- 不需要用户权限管理，直接右上角一个登录按钮即可，验证我的邮箱是 `process.env.ADMIN_EMAIL` 即可，目前项目中已经集成了谷歌登录
- CMS 页面直接在 @src/app/[locale]/admin/ 目录下建立，接口直接在 @src/app/api/admin/ 目录下建立；

## 数据表设计

注意：

1. 本项目借用之前其他项目的沉淀，有部分数据表继承下来了，没有用到的也可以不用的，详见 @src/db/schema.ts
2. 本项目使用的数据库是 Cloudflare D1，驱动是 `drizzle-orm`，详见 @package.json

为了方便规划，我用了 TypeScript 的方式来表示数据表结构了：

```typescript
interface RowBase {
    id: number; // 数据表自增 ID
    uuid: string; // 唯一 UUID
    created_at: number; // 创建时间戳，秒级
    updated_at: number; // 更新时间戳，秒级
    deleted_at:
}
interface SeoBase {
    metadata_title: string; // 元标题
    metadata_description: string; // 元描述
}
enum EGameStatus {
  Draft,
  Online,
  Offline,
}
// 游戏详情
interface Games extends RowBase {
    name: string; // 游戏名称
    slug: string; // 访问 url 后缀名
    status: EGameStatus; // 状态
    thumbnail: string // 缩略图 url
    source: string // 资源地址 url
    interact: number; // 交互次数
    rating: number; // 平均评分
    rating_count: number; // 评分数 - 有多少人打了分
    upvote_count: number; // 赞成数
    downvote_count: number; // 反对数
    save_count: number; // 收藏数
    share_count: number; // 分享数
    created_at: number; // 创建时间戳，也作为发布时间
    updated_at: number; // 更新时间戳
}
// 游戏与分类关联
interface GamesToCategories {
  game_uuid: string;
  category_uuid: string;
}
// 游戏与标签关联
interface GamesToTags {
  game_uuid: string;
  tag_uuid: string;
}
// 游戏与评论管理
interface GamesToComments {
  game_uuid: string;
  comment_uuid: string;
}
enum ECommentStatus {
  Pengding,
  Approved,
  Rejected,
}
// 游戏评论
// - 简化：不需要评分、状态使用 RowBase 里面的 row_status 即可
interface Comment extends RowBase {
    content: string; // 评论内容
    status: ECommentStatus; // 状态
    user_uuid: string; // 用户 UUID
    game_uuid: string; // 游戏 UUID
}
// 用户报告表
interface Report extends RowBase {
    content: string; // 报告内容
    user_uuid: string; // 用户 UUID
    game_uuid: string; // 游戏 UUID
}
// 符合 SEO 实践的游戏介绍
interface Introduction extends RowBase, SeoBase {
    content: string; // Markdwon 格式的游戏详情和玩法介绍，长文本
}
// 符合 SEO 实践的分类
interface Category extends RowBase, SeoBase {
    name: string; // 分类名称
    slug: string;
    content: string; // Markdown 格式的内容，长文本
}
// 符合 SEO 实践的标签
interface Tag extends RowBase, SeoBase {
    name: string; // 标签名称
    slug: string;
    content: string; // Markdown 格式的内容，长文本
}
// 符合 SEO 实践的特性
interface Featured extends RowBase, SeoBase {
    name: string;// 特性名称，例如：Hot、New、AllGames 等等
    slug: string;
    content: string; // Markdown 格式的内容，长文本
}
// 游戏与特性关联
interface GamesToCategories {
  game_uuid: string;
  featured_uuid: string;
}
```

其他：

- 管理员操作日志流水表暂时不需要了，简化一点；
- 暂时不需要用户互动表，因为面对 C 端用户暂时不提供登录功能，所有互动数据存到本地即可，使用 @src/lib/storage.ts

**重要注意**：

- 针对目前已有的表设计 @src/db/schema.ts 和相关的服务层代码，请尊重并保留，这些都是经过实战检验的，我后面也可能还要给网站增加付费订阅功能的；

## 开发要求

## 附录

参考竞争对手：

- https://geometrylite.io/
- https://playhop.com/
- https://www.gameflare.com/
